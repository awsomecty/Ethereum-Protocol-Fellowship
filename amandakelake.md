---
timezone: Asia/Shanghai
---

> 请在上边的 timezone 添加你的当地时区，这会有助于你的打卡状态的自动化更新，如果没有添加，默认为北京时间 UTC+8 时区
> 时区请参考以下列表，请移除 # 以后的内容

timezone: Asia/Shanghai # 中国标准时间 (UTC+8)


---

# amandakelake

1. 自我介绍

    有一年的 web3 Dapp 开发经验，希望通过这次共学，理解和认识以太生态和相关信息知识

2. 你认为你会完成本次残酷学习吗？

    会!

3. TG 联系方式：@Leo_style

## Notes

<!-- Content_START -->

### 2025.02.06

今天先过了下 [epf.wiki/](https://epf.wiki/) 的大概内容和脉络，暂时还没开始深入

通过 了解到

- EPF-The Ethereum Protocol Fellowship 是一个以太坊协议奖学金计划，旨在降低开发者对于 ETH 核心协议的进入门槛
- EPSsg-Ethereum Protocol Studies group 是一个社区，旨在收集知识，学习和教育以太坊协议

今年的 EPFsg 是2周intense introduction(之前研究组的一些资料后顾)，然后6周的现场演讲在线课程

跟着 [Ethereum Protocol Studies - github](https://github.com/eth-protocol-fellows/protocol-studies/blob/main/docs/eps/intro.md) 可以查看之前每周的内容，已经分好类了

[Week 0](https://github.com/eth-protocol-fellows/protocol-studies/blob/main/docs/eps/week0.md)主要是关于一些技术相关的前置基础知识，这块先就不看了

1. 查看[Introducing the EPF Study Group - blog](https://blog.ethereum.org/2024/02/07/epf-study-group)
2. 填写 survey: https://forms.gle/7TqmryC217EPwgqr9
3. 快速过一下[EPF 2024年的学习大纲](https://epf.wiki/#/eps/SG2024)


### 2025.02.07

https://epf.wiki/#/eps/week1

> 前置概念
> 
> 传统互联网架构一般是 集中式的client-server网络，由中心化服务器处理所有的任务请求，同时储存所有交换信息。
> p2p(Peer to peer network)：点对点网络没有中心控制方，所有信息在节点间不断记录和转移，节点之间互为副本，【数据存储和所有权】不受中心服务控制，是区块链去中心化的基础网络模型

#### Prehistory、Philosophy、Ethereum Protocol Design
自由软件运动是以太坊和所有加密货币的基础，以太坊的开放，独立和协作的发展文化强烈植根于FOSS（Free and Open Source Software）

以太坊研发路线可以参考 roadmap https://ethereum.org/en/roadmap/ ，但不唯一，不完全遵循，因为以太坊的核心生态系统是一个始终不断发展的无限花园。

以太坊的主要高级组成部分是执行和共识层
- 执行层 execution layer (EL) ：提供执行引擎，处理用户交易和所有状态（地址，合同数据）
- 共识层 consensus layer (CL)：实现了确保安全性和容错性的实现证明机制

执行层（EL）或共识层（CL）的实现称为客户端，运行此客户端并连接到网络的计算机称为节点，因此，节点是一对积极参与网络的EL和CL客户端

##### 节点和客户端
“节点”是指任何以太坊客户端软件的实例，它连接到其他也运行以太坊软件的计算机，形成一个网络

“客户端”是以太坊的实现，它根据协议规则验证数据并保持网络安全。 一个节点需要运行两种客户端软件：执行客户端+共识客户端，不同团队开发的各种编程语言中都有执行客户端和共识客户端

客户端可以运行三种类型的节点：轻节点、全节点和归档节点
- 全节点: 对区块链进行逐块验证，包括下载和验证每个块的块体和状态数据
  - 存储全部区块链数据（会定期修剪，所以全节点并不存储包含创世块在内的所有状态数据）
  - 参与区块验证，验证所有区块和状态
  - 全节点可以从本地储存中检索所有状态，或从“快照”中重新生成
  - 为网络提供服务，并应要求提供数据
- 归档节点: 从创世块开始验证每个区块的全节点，它们从不删除任何下载的数据
  - 存储全节点中保存的所有内容，并建立历史状态存档
  - 这些数据以太字节为单位，这使得归档节点对普通用户的吸引力较低，但对于区块浏览器、钱包供应商和链分析等服务来说则很方便
- 轻节点: 轻节点只下载区块头(包含区块内容的摘要信息)，而不会下载每个区块。轻节点会向全节点请求其所需的任何其他信息。 然后，轻节点可以根据区块头中的状态根独自验证收到的数据。轻节点可以让用户加入以太坊网络，无需运行全节点所需的功能强大的硬件或高带宽。 最终，轻节点也许能在手机和嵌入式设备中运行。 轻节点不参与共识（即它们不能成为矿工/验证者），但可以访问功能和安全保障和全节点相同的以太坊区块链
  - 轻客户端是以太坊积极发展的一个领域
  - 以太坊目前还不支持大量轻节点，但轻节点支持是一个有望在不久的将来快速发展的领域

##### Ethereum:mechanics

[An Overview of the Ethereum Excecution Layer - Dan Boneh](https://www.youtube.com/watch?v=7sxBjSfmROc)

```
1. 以太坊与比特币的对比
   比特币的局限性：
      - UTXO模型：难以支持多阶段合约和全局规则（如每日转账限额）。
      - 脚本功能有限：无法实现复杂逻辑（如域名系统DNS的防抢注）。
   以太坊的解决方案：
      - 引入智能合约，支持任意复杂的状态转换和全局规则。
   
   示例：NameCoin合约实现域名注册，但需通过承诺机制解决前置攻击（Front-running）。
   
2. 以太坊的核心架构
   状态转换系统：
      - 世界状态（World State）包含所有账户信息（余额、存储、代码等）。
      - 交易（Transaction）触发状态更新，区块记录最终状态根（Merkle Patricia Tree哈希）。
   账户模型：
      - 外部账户（EOA）：由私钥控制，用于发起交易。
      - 合约账户：由代码控制，存储持久化数据（通过SSTORE/SLOAD操作）。
   
   每个账户包含：地址、余额、Nonce（防重放）、存储根（合约状态）。
   
3. 智能合约与EVM
   EVM（以太坊虚拟机）：
      - 基于栈的虚拟机，执行智能合约字节码。
      - 支持合约间调用（消息传递）和状态修改。
   Gas机制：
      - 每个操作消耗Gas，防止资源滥用（如SSTORE消耗5000-20000 Gas）。
      - Gas费用由用户支付，计算公式：总费用 = Gas用量 × Gas单价。
   EIP-1559改革：
      - 引入基础费用（BaseFee）：动态调整，根据区块拥堵程度自动增减（目标区块大小15M Gas）。
      - 燃烧机制：基础费用被销毁，减少ETH通胀；用户支付基础费用 + 小费（PriorityFee）。

4. 共识机制与PoS
   信标链（Beacon Chain）：
      - 验证者需质押32 ETH，负责提议和验证区块。
      - 最终确定性（Finality）：通过多轮签名确认区块不可逆。
      - 惩罚机制：恶意行为（如双签）会导致质押ETH被罚没（Slashed）。
   经济模型：
      - 验证者年化收益约5.6%（来自区块奖励、交易费和MEV），但需扣除服务商分成（如Lido）。

5. 交易与区块结构
   交易类型：
      - EOA到EOA（转账ETH）。
      - EOA到合约（调用函数）。
      - 合约到合约（跨合约调用）。
   区块组成：
      - 区块头包含：父区块哈希、状态根、交易根、Gas使用量等。
      - 区块生产者按顺序执行交易，更新全局状态，其他验证者需重新验证。

6. 实际应用与挑战
   应用场景：DeFi（借贷、DEX）、NFT（ERC-721）、DAO、ENS（域名服务）等。
   性能与扩容：
      - 当前TPS约15-30（每个区块约150笔交易），Gas使用量逐年上升。
      - 未来方向：分片（Sharding）、Verkle树、无状态客户端等。

以太坊通过智能合约和EVM实现了图灵完备的区块链计算，解决了比特币的扩展性问题。其核心创新包括：
   - 状态驱动的账户模型（非UTXO）。
   - Gas经济体系（EIP-1559平衡供需）。
   - PoS共识（信标链确保安全与去中心化）。
```

### 2025.02.08

https://epf.wiki/#/eps/week2
#### Execution Layer

<!-- Content_END -->
